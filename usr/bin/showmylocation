#!/bin/bash
source /usr/lib/elive-tools/functions

main(){
    # pre {{{

    if ! el_dependencies_check curl ; then
        el_dependencies_install curl
    fi

    if ! el_verify_internet ; then
        el_error "no internet connection found"
        exit 1
    fi

    # }}}

    if [[ -n "$1" ]] ; then
        curl -s -A "Mozilla" "http://freegeoip.net/xml/$1"
    else
        curl -s -A "Mozilla" "http://freegeoip.net/xml/$(showmyip)"
    fi

}

#
#  MAIN
#
main "$@"

# vim: set foldmethod=marker :
